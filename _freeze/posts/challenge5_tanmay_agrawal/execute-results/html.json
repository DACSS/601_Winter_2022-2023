{
  "hash": "c16e771ac691e3d332a7c8a646039a76",
  "result": {
    "markdown": "---\ntitle: \"Challenge 5 Submission\"\nauthor: \"Tanmay Agrawal\"\ndescription: \"Introduction to Visualization\"\ndate: \"1/16/2023\"\nformat:\n  html:\n    toc: true\n    code-copy: true\n    code-tools: true\n    df-print: paged\ncategories:\n  - challenge_5\n  - railroads\n  - cereal\n  - air_bnb\n  - pathogen_cost\n  - australian_marriage\n  - public_schools\n  - usa_hh\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to:\n\n1)  read in a data set, and describe the data set using both words and any supporting information (e.g., tables, etc)\n2)  tidy data (as needed, including sanity checks)\n3)  mutate variables as needed (including sanity checks)\n4)  create at least two univariate visualizations\n   - try to make them \"publication\" ready\n   - Explain why you choose the specific graph type\n5)  Create at least one bivariate visualization\n   - try to make them \"publication\" ready\n   - Explain why you choose the specific graph type\n\n[R Graph Gallery](https://r-graph-gallery.com/) is a good starting point for thinking about what information is conveyed in standard graph types, and includes example R code.\n\n(be sure to only include the category tags for the data you use!)\n\n## Read in data\n\nRead in one (or more) of the following datasets, using the correct R package and command.\n\n-   cereal ⭐\n-   pathogen cost ⭐\n-   Australian Marriage ⭐⭐ \n-   AB_NYC_2019.csv ⭐⭐⭐\n-   railroads ⭐⭐⭐\n-   Public School Characteristics ⭐⭐⭐⭐ \n-   USA Households ⭐⭐⭐⭐⭐\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncereal <- read_csv(\"_data/cereal.csv\")\nhead(cereal)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"Cereal\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Sodium\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Sugar\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Type\"],\"name\":[4],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"Frosted Mini Wheats\",\"2\":\"0\",\"3\":\"11\",\"4\":\"A\"},{\"1\":\"Raisin Bran\",\"2\":\"340\",\"3\":\"18\",\"4\":\"A\"},{\"1\":\"All Bran\",\"2\":\"70\",\"3\":\"5\",\"4\":\"A\"},{\"1\":\"Apple Jacks\",\"2\":\"140\",\"3\":\"14\",\"4\":\"C\"},{\"1\":\"Captain Crunch\",\"2\":\"200\",\"3\":\"12\",\"4\":\"C\"},{\"1\":\"Cheerios\",\"2\":\"180\",\"3\":\"1\",\"4\":\"C\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n### Briefly describe the data\n\nThis dataset provides information about different brands of cereal, including their sodium and sugar content, and their type. The dataset has 4 variables:\n\n`Cereal`: the name of the cereal brand.\n`Sodium`: the amount of sodium (in milligrams) per serving of the cereal.\n`Sugar`: the amount of sugar (in grams) per serving of the cereal.\n`Type`: the type of cereal, either \"A\" or \"C\". This probably describes the intended consumer. A -> Adult and C -> Child.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(cereal)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nspc_tbl_ [20 × 4] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\n $ Cereal: chr [1:20] \"Frosted Mini Wheats\" \"Raisin Bran\" \"All Bran\" \"Apple Jacks\" ...\n $ Sodium: num [1:20] 0 340 70 140 200 180 210 150 100 130 ...\n $ Sugar : num [1:20] 11 18 5 14 12 1 10 16 0 12 ...\n $ Type  : chr [1:20] \"A\" \"A\" \"A\" \"C\" ...\n - attr(*, \"spec\")=\n  .. cols(\n  ..   Cereal = col_character(),\n  ..   Sodium = col_double(),\n  ..   Sugar = col_double(),\n  ..   Type = col_character()\n  .. )\n - attr(*, \"problems\")=<externalptr> \n```\n:::\n\n```{.r .cell-code}\nsummary(cereal)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    Cereal              Sodium          Sugar           Type          \n Length:20          Min.   :  0.0   Min.   : 0.00   Length:20         \n Class :character   1st Qu.:137.5   1st Qu.: 4.00   Class :character  \n Mode  :character   Median :180.0   Median : 9.50   Mode  :character  \n                    Mean   :167.0   Mean   : 8.75                     \n                    3rd Qu.:202.5   3rd Qu.:12.50                     \n                    Max.   :340.0   Max.   :18.00                     \n```\n:::\n:::\n\nThis summary shows the range, median, mean, and quartiles for both the sodium and sugar variables. It also shows that the two other variables in the tibble are character-type.\n\n## Tidy Data (as needed)\n\nIs your data already tidy, or is there work to be done? Be sure to anticipate your end result to provide a sanity check, and document your work here.\n\nThe dataset looks pretty tidy from an initial investigation, but it's always nice to check for missing values and duplicate rows as a rule of thumb.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Check for missing values\nsum(is.na(cereal))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0\n```\n:::\n\n```{.r .cell-code}\n# Check for duplicate rows\nduplicate_rows <- cereal[duplicated(cereal),]\nnrow(duplicate_rows)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0\n```\n:::\n:::\n\n\nAre there any variables that require mutation to be usable in your analysis stream? For example, do you need to calculate new values in order to graph them? Can string values be represented numerically? Do you need to turn any variables into factors and reorder for ease of graphics and visualization?\n\nDocument your work here.\n\nAs we described beofre, the \"Type\" variable likely describes if the intended consumer is an Adult or a Child. This is represented as a string (either \"A\" or \"C\") and can be mutated into a factor variable for EDA purposes.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncereal$Type <- as.factor(cereal$Type)\ncereal$Type <- factor(cereal$Type, levels = c(\"A\", \"C\"))\nhead(cereal)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"Cereal\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Sodium\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Sugar\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Type\"],\"name\":[4],\"type\":[\"fct\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"Frosted Mini Wheats\",\"2\":\"0\",\"3\":\"11\",\"4\":\"A\"},{\"1\":\"Raisin Bran\",\"2\":\"340\",\"3\":\"18\",\"4\":\"A\"},{\"1\":\"All Bran\",\"2\":\"70\",\"3\":\"5\",\"4\":\"A\"},{\"1\":\"Apple Jacks\",\"2\":\"140\",\"3\":\"14\",\"4\":\"C\"},{\"1\":\"Captain Crunch\",\"2\":\"200\",\"3\":\"12\",\"4\":\"C\"},{\"1\":\"Cheerios\",\"2\":\"180\",\"3\":\"1\",\"4\":\"C\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\nAdditionally, to visualize the distribution of sodium and sugar levels in each type of cereal, we create a new variable to indicate the mean sodium and sugar levels for each type.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncereal_mean <- cereal %>% \n  group_by(Type) %>% \n  summarize(mean_sodium = mean(Sodium), mean_sugar = mean(Sugar))\nhead(cereal_mean)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"Type\"],\"name\":[1],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"mean_sodium\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"mean_sugar\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"A\",\"2\":\"149\",\"3\":\"8.3\"},{\"1\":\"C\",\"2\":\"185\",\"3\":\"9.2\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n## Univariate Visualizations\n# Distribution of Sugar Content:\nTo visualize the distribution of sugar content in the cereal dataset, we will use a histogram plot.\nThe histogram plot helps us to understand the distribution of a continuous variable by dividing it into bins and plotting the frequency of data points in each bin.\nThis graph type is suitable for this analysis as it provides a quick understanding of the distribution of sugar content in the cereal dataset.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load ggplot2 library\nlibrary(ggplot2)\n\n# Boxplot of sugar and sodium content by cereal type\nggplot(cereal, aes(x=Type, y=Sugar)) +\n  geom_boxplot(fill=\"pink\") +\n  scale_y_continuous(limits=c(0, 20), expand=c(0,0),\n                     breaks=seq(0, 20, 5)) +\n  labs(x=\"Cereal Type\", y=\"Sugar Content (g)\") +\n  ggtitle(\"Average Sugar Level in by Cereal Type\") +\n  theme(\n    plot.background = element_rect(fill = \"lightblue\"),\n    panel.grid.major = element_line(color = \"gray\"),\n    panel.grid.minor = element_blank(),\n    axis.line.x = element_line(color = \"black\", size = 1),\n    axis.line.y = element_line(color = \"black\", size = 1),\n    axis.text.x = element_text(color = \"black\", size = 10, angle = 45, hjust = 1),\n    axis.text.y = element_text(color = \"black\", size = 10),\n    axis.title.x = element_text(color = \"black\", size = 14, face = \"bold\"),\n    axis.title.y = element_text(color = \"black\", size = 14, face = \"bold\"),\n    plot.title = element_text(color = \"black\", size = 16, face = \"bold\")\n  )\n```\n\n::: {.cell-output-display}\n![](challenge5_tanmay_agrawal_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(cereal_mean, aes(x=Type, y=mean_sodium, fill=Type)) +\n  geom_bar(stat=\"identity\", color=\"black\", width=0.6) +\n  geom_errorbar(aes(ymin=mean_sodium-sd(cereal$Sodium), ymax=mean_sodium+sd(cereal$Sodium)),\n               width=0.3, color=\"black\") +\n  labs(x=\"Cereal Type\", y=\"Average Sodium Level (mg)\") +\n  ggtitle(\"Average Sodium Level by Cereals Type\") +\n  theme(\n    plot.background = element_rect(fill = \"lightblue\"),\n    panel.grid.major = element_line(color = \"gray\"),\n    panel.grid.minor = element_blank(),\n    axis.line.x = element_line(color = \"black\", size = 1),\n    axis.line.y = element_line(color = \"black\", size = 1),\n    axis.text.x = element_text(color = \"black\", size = 10, angle = 45, hjust = 1),\n    axis.text.y = element_text(color = \"black\", size = 10),\n    axis.title.x = element_text(color = \"black\", size = 14, face = \"bold\"),\n    axis.title.y = element_text(color = \"black\", size = 14, face = \"bold\"),\n    plot.title = element_text(color = \"black\", size = 16, face = \"bold\")\n  )\n```\n\n::: {.cell-output-display}\n![](challenge5_tanmay_agrawal_files/figure-html/unnamed-chunk-7-2.png){width=672}\n:::\n:::\n\n\n# Frequency of Sugar and Sodium:\nTo visualize the frequency of cereal type in the cereal dataset, we will use a density plot. The desnity plot can be useful to understand the frequency of continuous data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Density plots of sugar and sodium content\n\nggplot(cereal, aes(x=Sugar)) +\n  geom_density(fill=\"pink\", color=\"red\", bw=0.7) +\n  labs(x=\"Sugar Level (g)\", y=\"Density\") +\n  ggtitle(\"Density of Sugar Levels in Cereals\") +\n  theme_classic() +\n  xlim(0, 20)\n```\n\n::: {.cell-output-display}\n![](challenge5_tanmay_agrawal_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(cereal, aes(x=Sodium)) +\n  geom_density(fill=\"skyblue\", color=\"darkblue\") +\n  labs(x=\"Sodium Level (mg)\", y=\"Frequency\") +\n  ggtitle(\"Distribution of Sodium Levels in Cereals\") +\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](challenge5_tanmay_agrawal_files/figure-html/unnamed-chunk-8-2.png){width=672}\n:::\n:::\n\n\n## Bivariate Visualization(s)\n\n# Scatter Plot of Sugar vs Sodium Content:\nTo visualize the relationship between sugar and sodium content in the cereal dataset, we will use a scatter plot.\nThe scatter plot helps us to understand the relationship between two continuous variables by plotting the data points on a two-dimensional graph.\nThis graph type is suitable for this analysis as it provides a quick understanding of the relationship between sugar and sodium content in the cereal dataset.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(cereal, aes(x=Sugar, y=Sodium, color=Type)) +\n  geom_point() +\n  geom_text(aes(label=Cereal),hjust=0, vjust=2.2, size=2) +\n  labs(x=\"Sugar Level (g)\", y=\"Sodium Level (mg)\") +\n  ggtitle(\"Sugar and Sodium Levels in Cereals\") +\n  scale_color_discrete(name=\"Cereal Type\") +\n  theme(\n    plot.background = element_rect(fill = \"lightblue\"),\n    panel.grid.major = element_line(color = \"gray\"),\n    panel.grid.minor = element_blank(),\n    axis.line.x = element_line(color = \"black\", size = 1),\n    axis.line.y = element_line(color = \"black\", size = 1),\n    axis.text.x = element_text(color = \"black\", size = 10, angle = 45, hjust = 1),\n    axis.text.y = element_text(color = \"black\", size = 10),\n    axis.title.x = element_text(color = \"black\", size = 14, face = \"bold\"),\n    axis.title.y = element_text(color = \"black\", size = 14, face = \"bold\"),\n    plot.title = element_text(color = \"black\", size = 16, face = \"bold\")\n  )\n```\n\n::: {.cell-output-display}\n![](challenge5_tanmay_agrawal_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n\n```{.r .cell-code}\n  #+ scale_x_log10()+ scale_y_log10()\n```\n:::\n\nAny additional comments?\n\nAs we can infer from this graph, there isn't a strict relationship between the kinds of cereals marketed to Adults or Children in this dataset. Although, in general sugary ones are targeted towards a younger user group while the savory ones (high sodium content) are generally marketed to an older user group. The collection of scatter plot along the middle of the y-axis indicates the sodium levels are generally standardized and the sugar levels can vary by a lot, which seems accurate based on the density plot as well.\n",
    "supporting": [
      "challenge5_tanmay_agrawal_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}