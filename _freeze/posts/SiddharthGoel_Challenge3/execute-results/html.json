{
  "hash": "3d8be9311ed8041ec42888eebccaefba",
  "result": {
    "markdown": "---\ntitle: \"Challenge 3\"\nauthor: \"Siddharth Goel\"\ndescription: \"Tidy Data: Pivoting\"\ndate: \"01/27/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_3\n  - animal_weights.csv\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Read in data\n\n::: {.cell}\n\n```{.r .cell-code}\nanimal_weights_df <- read_csv(\"_data/animal_weight.csv\")\n\nanimal_weights_df\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 9 × 17\n  IPCC A…¹ Cattl…² Cattl…³ Buffa…⁴ Swine…⁵ Swine…⁶ Chick…⁷ Chick…⁸ Ducks Turkeys\n  <chr>      <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <dbl>   <dbl>\n1 Indian …     275     110     295      28      28     0.9     1.8   2.7     6.8\n2 Eastern…     550     391     380      50     180     0.9     1.8   2.7     6.8\n3 Africa       275     173     380      28      28     0.9     1.8   2.7     6.8\n4 Oceania      500     330     380      45     180     0.9     1.8   2.7     6.8\n5 Western…     600     420     380      50     198     0.9     1.8   2.7     6.8\n6 Latin A…     400     305     380      28      28     0.9     1.8   2.7     6.8\n7 Asia         350     391     380      50     180     0.9     1.8   2.7     6.8\n8 Middle …     275     173     380      28      28     0.9     1.8   2.7     6.8\n9 Norther…     604     389     380      46     198     0.9     1.8   2.7     6.8\n# … with 7 more variables: Sheep <dbl>, Goats <dbl>, Horses <dbl>, Asses <dbl>,\n#   Mules <dbl>, Camels <dbl>, Llamas <dbl>, and abbreviated variable names\n#   ¹​`IPCC Area`, ²​`Cattle - dairy`, ³​`Cattle - non-dairy`, ⁴​Buffaloes,\n#   ⁵​`Swine - market`, ⁶​`Swine - breeding`, ⁷​`Chicken - Broilers`,\n#   ⁸​`Chicken - Layers`\n```\n:::\n\n```{.r .cell-code}\nspec(animal_weights_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\ncols(\n  `IPCC Area` = col_character(),\n  `Cattle - dairy` = col_double(),\n  `Cattle - non-dairy` = col_double(),\n  Buffaloes = col_double(),\n  `Swine - market` = col_double(),\n  `Swine - breeding` = col_double(),\n  `Chicken - Broilers` = col_double(),\n  `Chicken - Layers` = col_double(),\n  Ducks = col_double(),\n  Turkeys = col_double(),\n  Sheep = col_double(),\n  Goats = col_double(),\n  Horses = col_double(),\n  Asses = col_double(),\n  Mules = col_double(),\n  Camels = col_double(),\n  Llamas = col_double()\n)\n```\n:::\n:::\n\n\n\n### Briefly describe the data\n\nThe input dataset describes the weights of different animals and the overall category-wise weights for 9 IPCC areas. For this dataset, I plan to move the animals to rows and the areas to columns using pivot_longer so that it is easy to get statistics based on specific animals and categories. \n\n### Challenge: Describe the final dimensions\n\nDocument your work here.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Existing Rows\nexpected_rows <- nrow(animal_weights_df) # 9\n\n# Existing Columns\nexpected_cols <- ncol(animal_weights_df) # 17\n\n# Expected Rows\nnrow(animal_weights_df) * (expected_cols - 1) # -1 for the header\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 144\n```\n:::\n\n```{.r .cell-code}\n# expected columns \n3 # IPCC Area, Animal, Weight\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 3\n```\n:::\n:::\n\n\nThe dataset currently has 9 rows and 17 columns.\nWhen we pivot the dataset, the targeted rows and columns will be 144 rows and 3 columns (Area, Animal and Weight). \n\n## Pivot the Data\n\nNow we will pivot the data, and compare our pivoted data dimensions to the dimensions calculated above as a \"sanity\" check.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npivoted_df <- pivot_longer(animal_weights_df, 2:ncol(animal_weights_df), names_to = \"Animal\", values_to = \"Weight\")\nhead(pivoted_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 3\n  `IPCC Area`         Animal             Weight\n  <chr>               <chr>               <dbl>\n1 Indian Subcontinent Cattle - dairy      275  \n2 Indian Subcontinent Cattle - non-dairy  110  \n3 Indian Subcontinent Buffaloes           295  \n4 Indian Subcontinent Swine - market       28  \n5 Indian Subcontinent Swine - breeding     28  \n6 Indian Subcontinent Chicken - Broilers    0.9\n```\n:::\n:::\n\nYes, once it is pivoted long, our resulting data are $144 x 3$ - exactly what we expected!\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}