{
  "hash": "aa39ee92f6caa7687399fd568e270f84",
  "result": {
    "markdown": "---\ntitle: \"Challenge 5\"\nauthor: \"Cristhian Barba Garzon\"\ndescription: \"Introduction to Visualization\"\ndate: \"1/12/2022\"\nformat:\n  html:\n    df-print: paged \n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_5\n  - AB_NYC_2019.csv\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to:\n\n1)  read in a data set, and describe the data set using both words and any supporting information (e.g., tables, etc)\n2)  tidy data (as needed, including sanity checks)\n3)  mutate variables as needed (including sanity checks)\n4)  create at least two univariate visualizations\n   - try to make them \"publication\" ready\n   - Explain why you choose the specific graph type\n5)  Create at least one bivariate visualization\n   - try to make them \"publication\" ready\n   - Explain why you choose the specific graph type\n\n## Read in data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nab = read_csv(\"_data/AB_NYC_2019.csv\")\nprint(ab)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 48,895 × 16\n      id name      host_id host_…¹ neigh…² neigh…³ latit…⁴ longi…⁵ room_…⁶ price\n   <dbl> <chr>       <dbl> <chr>   <chr>   <chr>     <dbl>   <dbl> <chr>   <dbl>\n 1  2539 Clean & …    2787 John    Brookl… Kensin…    40.6   -74.0 Privat…   149\n 2  2595 Skylit M…    2845 Jennif… Manhat… Midtown    40.8   -74.0 Entire…   225\n 3  3647 THE VILL…    4632 Elisab… Manhat… Harlem     40.8   -73.9 Privat…   150\n 4  3831 Cozy Ent…    4869 LisaRo… Brookl… Clinto…    40.7   -74.0 Entire…    89\n 5  5022 Entire A…    7192 Laura   Manhat… East H…    40.8   -73.9 Entire…    80\n 6  5099 Large Co…    7322 Chris   Manhat… Murray…    40.7   -74.0 Entire…   200\n 7  5121 BlissArt…    7356 Garon   Brookl… Bedfor…    40.7   -74.0 Privat…    60\n 8  5178 Large Fu…    8967 Shunic… Manhat… Hell's…    40.8   -74.0 Privat…    79\n 9  5203 Cozy Cle…    7490 MaryEl… Manhat… Upper …    40.8   -74.0 Privat…    79\n10  5238 Cute & C…    7549 Ben     Manhat… Chinat…    40.7   -74.0 Entire…   150\n# … with 48,885 more rows, 6 more variables: minimum_nights <dbl>,\n#   number_of_reviews <dbl>, last_review <date>, reviews_per_month <dbl>,\n#   calculated_host_listings_count <dbl>, availability_365 <dbl>, and\n#   abbreviated variable names ¹​host_name, ²​neighbourhood_group,\n#   ³​neighbourhood, ⁴​latitude, ⁵​longitude, ⁶​room_type\n```\n:::\n\n```{.r .cell-code}\n#for when you are selecting columns with NA values: na.rm = TRUE\n\nab %>%\n  dim() \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 48895    16\n```\n:::\n\n```{.r .cell-code}\nab %>% \n  colnames()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"id\"                             \"name\"                          \n [3] \"host_id\"                        \"host_name\"                     \n [5] \"neighbourhood_group\"            \"neighbourhood\"                 \n [7] \"latitude\"                       \"longitude\"                     \n [9] \"room_type\"                      \"price\"                         \n[11] \"minimum_nights\"                 \"number_of_reviews\"             \n[13] \"last_review\"                    \"reviews_per_month\"             \n[15] \"calculated_host_listings_count\" \"availability_365\"              \n```\n:::\n:::\n\n\n### Briefly describe the data\nThis data takes data from places that people can stay; it describes things such as the minimum number of nights people have stayed, the price to reserve the location, the reviews that the location receives, and much more. \n\n## Univariate Visualizations\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(ab, aes(price,na.rm=TRUE)) + geom_histogram(aes(y = ..density..),binwidth = 10, alpha = 0.5) + geom_density(alpha = 0.2, fill = \"red\")\n```\n\n::: {.cell-output-display}\n![](CristhianBarbaGarzon_Challenge5_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n\n```{.r .cell-code}\nQ = quantile(ab$price, probs=c(.25, .75), na.rm = TRUE) #finds quartiles for price column\niqr = IQR(ab$price) #finds IQR for price column\nab_clean = subset(ab, ab$price > (Q[1] - 1.5*iqr) & ab$price < (Q[2]+1.5*iqr)) #removes values that are not within low and high ranges\n \nggplot(ab_clean, aes(x=price, na.rm=TRUE)) + geom_histogram(aes(y = ..density..), binwidth = 10, alpha = 0.5) + geom_density(alpha = 0.2, fill = \"red\")\n```\n\n::: {.cell-output-display}\n![](CristhianBarbaGarzon_Challenge5_files/figure-html/unnamed-chunk-3-2.png){width=672}\n:::\n:::\n\n## Describing Univariate Visuals \nI chose to create a histogram for the prices that people charge for reserving their location. Using the ggplot() and geom_histogram() functions, I was able to create a histogram with the price values as the x-values. This first histogram was very large; you can see--using the geom_density() function--that there were outliers causing a skewness to the right. Initially, you can see most of the data is grouped below a price of 2,500. However, using statistical functions, I was able to reduce the data in the price column to only include data within the upper and lower outlier values. In the second visual, you can see most of the data was grouped within a price of 300. \n\n## Bivariate Visualization(s)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(ab, aes(x = price, y = minimum_nights, na.rm = TRUE)) + geom_point(size=0.1)\n```\n\n::: {.cell-output-display}\n![](CristhianBarbaGarzon_Challenge5_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\nQ = quantile(ab$price, probs=c(.25, .75), na.rm = TRUE)\niqr = IQR(ab$price)\nab_clean = subset(ab, ab$price > (Q[1] - 1.5*iqr) & ab$price < (Q[2]+1.5*iqr))\n \nQ1 = quantile(ab$minimum_nights, probs=c(.25, .75), na.rm = TRUE)\niqr1 = IQR(ab$minimum_nights)\nab_clean1 = subset(ab_clean, ab_clean$minimum_nights > (Q1[1] - 1.5*iqr1) & ab_clean$minimum_nights < (Q1[2]+1.5*iqr1)) \n \n \nggplot(ab_clean1, aes(x = price, y = minimum_nights ,na.rm = TRUE)) + geom_point(size=0.1)\n```\n\n::: {.cell-output-display}\n![](CristhianBarbaGarzon_Challenge5_files/figure-html/unnamed-chunk-4-2.png){width=672}\n:::\n:::\n\n## Describing Bivariate Visuals\n\nUsing ggplot(), geom_point(), the price as the x-values, and the minimum number of nights stayed as the y-values, you can see that most scatter points are grouped below the price of 2,500 and the number of nights stayed below 400. Using the same methods as the univariate graph to remove outliers, I created the second visual; this second visual shows that the majority of people stay a minimum of 10 nights and prefer to pay around 300 for their reservation. Additionally, you can see that the scatter points in this plot dissipate as they get closer to the x-value of 300 and the y-value of 10, meaning less and less people reserve places to stay at these values. \n\n\n",
    "supporting": [
      "CristhianBarbaGarzon_Challenge5_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}