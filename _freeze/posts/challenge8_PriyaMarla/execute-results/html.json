{
  "hash": "eef45d553693ea5bd64c1d7368fd9c46",
  "result": {
    "markdown": "---\ntitle: \"Challenge 8\"\nauthor: \"Priya Marla\"\ndescription: \"Joining Data\"\ndate: \"1/25/2023\"\nformat:\n  html:\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_8\n  - railroads\n  - snl\n  - faostat\n  - debt\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(here)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to:\n\n1)  read in multiple data sets, and describe the data set using both words and any supporting information (e.g., tables, etc)\n2)  tidy data (as needed, including sanity checks)\n3)  mutate variables as needed (including sanity checks)\n4)  join two or more data sets and analyze some aspect of the joined data\n\n(be sure to only include the category tags for the data you use!)\n\n## Read in data\n\nRead in one (or more) of the following datasets, using the correct R package and command.\n\n  - military marriages ⭐⭐\n  - faostat ⭐⭐\n  - railroads  ⭐⭐⭐\n  - fed_rate ⭐⭐⭐\n  - debt ⭐⭐⭐\n  - us_hh ⭐⭐⭐⭐\n  - snl ⭐⭐⭐⭐⭐\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsnl_actors <- here(\"posts\",\"_data\",\"snl_actors.csv\") %>%\n  read_csv()\n\nsnl_casts <- here(\"posts\",\"_data\",\"snl_casts.csv\") %>%\n  read_csv()\n\nsnl_seasons <- here(\"posts\",\"_data\",\"snl_seasons.csv\") %>%\n  read_csv()\n\nsnl_actors\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2,306 × 4\n   aid            url           type  gender \n   <chr>          <chr>         <chr> <chr>  \n 1 Kate McKinnon  /Cast/?KaMc   cast  female \n 2 Alex Moffat    /Cast/?AlMo   cast  male   \n 3 Ego Nwodim     /Cast/?EgNw   cast  unknown\n 4 Chris Redd     /Cast/?ChRe   cast  male   \n 5 Kenan Thompson /Cast/?KeTh   cast  male   \n 6 Carey Mulligan /Guests/?3677 guest andy   \n 7 Marcus Mumford /Guests/?3679 guest male   \n 8 Aidy Bryant    /Cast/?AiBr   cast  female \n 9 Steve Higgins  /Crew/?StHi   crew  male   \n10 Mikey Day      /Cast/?MiDa   cast  male   \n# … with 2,296 more rows\n```\n:::\n\n```{.r .cell-code}\nsnl_casts\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 614 × 8\n   aid                sid featured first_epid last_epid update…¹ n_epi…² seaso…³\n   <chr>            <dbl> <lgl>         <dbl>     <dbl> <lgl>      <dbl>   <dbl>\n 1 A. Whitney Brown    11 TRUE       19860222        NA FALSE          8   0.444\n 2 A. Whitney Brown    12 TRUE             NA        NA FALSE         20   1    \n 3 A. Whitney Brown    13 TRUE             NA        NA FALSE         13   1    \n 4 A. Whitney Brown    14 TRUE             NA        NA FALSE         20   1    \n 5 A. Whitney Brown    15 TRUE             NA        NA FALSE         20   1    \n 6 A. Whitney Brown    16 TRUE             NA        NA FALSE         20   1    \n 7 Alan Zweibel         5 TRUE       19800409        NA FALSE          5   0.25 \n 8 Sasheer Zamata      39 TRUE       20140118        NA FALSE         11   0.524\n 9 Sasheer Zamata      40 TRUE             NA        NA FALSE         21   1    \n10 Sasheer Zamata      41 FALSE            NA        NA FALSE         21   1    \n# … with 604 more rows, and abbreviated variable names ¹​update_anchor,\n#   ²​n_episodes, ³​season_fraction\n```\n:::\n\n```{.r .cell-code}\nsnl_seasons\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 46 × 5\n     sid  year first_epid last_epid n_episodes\n   <dbl> <dbl>      <dbl>     <dbl>      <dbl>\n 1     1  1975   19751011  19760731         24\n 2     2  1976   19760918  19770521         22\n 3     3  1977   19770924  19780520         20\n 4     4  1978   19781007  19790526         20\n 5     5  1979   19791013  19800524         20\n 6     6  1980   19801115  19810411         13\n 7     7  1981   19811003  19820522         20\n 8     8  1982   19820925  19830514         20\n 9     9  1983   19831008  19840512         19\n10    10  1984   19841006  19850413         17\n# … with 36 more rows\n```\n:::\n:::\n\n\n\n### Briefly describe the data\n\nThere are 3 datasets describing the data about various actors and their appearances in the saturday night live show.\nsnl_actors dataset contains data about various actors ever involved with snl show.\nsnl_casts dataset contains data about various actors appearances in snl.\nsnl_seasons dataset contains details about seasons aired.\n\nThere are total 46 seasons with 906 episodes, 2306 actors from year 1975 to 2020.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlength(unique(snl_seasons$sid))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 46\n```\n:::\n\n```{.r .cell-code}\nlength(unique(snl_actors$aid))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2306\n```\n:::\n\n```{.r .cell-code}\nmin(snl_seasons$year)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1975\n```\n:::\n\n```{.r .cell-code}\nmax(snl_seasons$year)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2020\n```\n:::\n\n```{.r .cell-code}\nsum(snl_seasons$n_episodes)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 906\n```\n:::\n:::\n\n\n## Analysis\n\nHere our goal is to find the count of various genders in the saturday night live show over the years. To get the year, gender and count we have to combine 3 different tables i.e snl_actors, snl_casts and snl_seasons.\n\n## Join Data\n\nBe sure to include a sanity check, and double-check that case count is correct!\n\nFrom snl_actors table we get the \"gender\" column and will get get \"sid\" from snl_casts which can later be used to combine with snl_seasons. We can combine this with snl_casts as they have a common column \"aid\" and name the new dataframe as actors_casts. We then combine actors_casts with snl_seasons where we get the \"year\".\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Merging snl_actors and snl_casts\nactors_casts <- merge(snl_actors, snl_casts, by = 'aid')\n\n#merging actors_casts and snl_seasons based on gender\nactors_casts_seasons_gender <- actors_casts %>%\n  merge(snl_seasons, by = 'sid') %>%\n  group_by(sid, year, gender) %>%\n  count(sid, gender)\nactors_casts_seasons_gender\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 95 × 4\n# Groups:   sid, year, gender [95]\n     sid  year gender     n\n   <dbl> <dbl> <chr>  <int>\n 1     1  1975 female     3\n 2     1  1975 male       6\n 3     2  1976 female     3\n 4     2  1976 male       5\n 5     3  1977 female     3\n 6     3  1977 male       6\n 7     4  1978 female     3\n 8     4  1978 male       6\n 9     5  1979 female     3\n10     5  1979 male      12\n# … with 85 more rows\n```\n:::\n\n```{.r .cell-code}\n#plotting graph\nactors_casts_seasons_gender %>%\n  ggplot(aes(year, n, col = gender)) +\n  geom_line() +\n  ylab(\"count\") +\n  ggtitle(\"Various gender count over the years\")\n```\n\n::: {.cell-output-display}\n![](challenge8_PriyaMarla_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#merging actors_casts and snl_seasons\nactors_casts_seasons <- actors_casts %>%\n  merge(snl_seasons, by = 'sid') %>%\n  group_by(sid, year) %>%\n  count(sid)\nactors_casts_seasons\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 46 × 3\n# Groups:   sid, year [46]\n     sid  year     n\n   <dbl> <dbl> <int>\n 1     1  1975     9\n 2     2  1976     8\n 3     3  1977     9\n 4     4  1978     9\n 5     5  1979    15\n 6     6  1980    15\n 7     7  1981     8\n 8     8  1982     8\n 9     9  1983     9\n10    10  1984    10\n# … with 36 more rows\n```\n:::\n\n```{.r .cell-code}\nmean(actors_casts_seasons$n)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 13.34783\n```\n:::\n\n```{.r .cell-code}\nmin(actors_casts_seasons$n)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 8\n```\n:::\n\n```{.r .cell-code}\nmax(actors_casts_seasons$n)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 20\n```\n:::\n\n```{.r .cell-code}\n#plotting graph\nactors_casts_seasons %>%\n  ggplot(aes(x = year)) +\n  geom_line(aes(y = n), color = \"blue\") +\n  geom_point(aes(y = n), color = \"red\") +\n  ylab(\"count\") +\n  ggtitle(\"Count of cast over the years\")\n```\n\n::: {.cell-output-display}\n![](challenge8_PriyaMarla_files/figure-html/unnamed-chunk-4-2.png){width=672}\n:::\n:::\n\nFrom the above visualization we can see that there is rise in number of employees in each season over the years. Number of females are consistently less less than the number of males. \nThe second graph shows that the number of actors over the years. We can infer that there has been increase in the actors over years with minimum number of actors per season are 8 recorded in between 1975 and 1985 and maximum are 20 in 2020. \n",
    "supporting": [
      "challenge8_PriyaMarla_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}