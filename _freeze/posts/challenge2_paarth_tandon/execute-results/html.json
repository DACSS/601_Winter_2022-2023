{
  "hash": "7d1c780413c38d7157d0994064fc131f",
  "result": {
    "markdown": "---\ntitle: \"Challenge 2\"\nauthor: \"Paarth Tandon\"\ndescription: \"Data wrangling: using group() and summarise()\"\ndate: \"12/28/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\n    df-print: kable\ncategories:\n  - challenge_2\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Read in the Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# read in the data using readr\nrail <- read_csv(\"_data/railroad_2012_clean_county.csv\")\n# view a few data points\nhead(rail)\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|state |county               | total_employees|\n|:-----|:--------------------|---------------:|\n|AE    |APO                  |               2|\n|AK    |ANCHORAGE            |               7|\n|AK    |FAIRBANKS NORTH STAR |               2|\n|AK    |JUNEAU               |               3|\n|AK    |MATANUSKA-SUSITNA    |               2|\n|AK    |SITKA                |               1|\n\n</div>\n:::\n:::\n\n\n## Describe the data\n\nThis part is the same as in challenge 1.\n\nAs seen by using `head`, this csv has three columns: `state <chr>`, `county <chr>`, and `total_employees <dbl>`. It contains two character based columns and one double column. Essentially, it contains the number of employees at each `state`, `county` pair.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nu_states <- rail$state %>%\n                unique() %>%\n                length()\nsprintf('# unique states: %s', u_states)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"# unique states: 53\"\n```\n:::\n\n```{.r .cell-code}\nu_counties <- rail$county %>%\n                unique() %>%\n                length()\nsprintf('# unique counties: %s', u_counties)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"# unique counties: 1709\"\n```\n:::\n\n```{.r .cell-code}\nrange_emp <- rail$total_employees %>%\n                range()\nsprintf('range of total employees: [%s, %s]', range_emp[1], range_emp[2])\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"range of total employees: [1, 8207]\"\n```\n:::\n:::\n\n\nI believe that this data was collected from each railroad station in the United States. It is most likely collected for bookkeeping purposes, but I could see it being used for analysis of which railroad stations need more employees, and which are overstaffed. Of course, answering these questions would require more data to be combined with this dataset. \n\n## Provide Grouped Summary Statistics\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrail %>%\n    group_by(`state`) %>%\n    summarise(n_counties=n(),\n              sum_emp=sum(`total_employees`),\n              mean_emp=mean(`total_employees`),\n              sd_emp=sd(`total_employees`)) %>%\n    arrange(desc(`mean_emp`))\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|state | n_counties| sum_emp|   mean_emp|      sd_emp|\n|:-----|----------:|-------:|----------:|-----------:|\n|DE    |          3|    1495| 498.333333| 674.3236117|\n|NJ    |         21|    8329| 396.619048| 338.2173083|\n|CT    |          8|    2592| 324.000000| 520.1983138|\n|MA    |         12|    3379| 281.583333| 203.8299016|\n|NY    |         61|   17050| 279.508197| 590.7790231|\n|DC    |          1|     279| 279.000000|          NA|\n|CA    |         55|   13137| 238.854546| 549.4691518|\n|AZ    |         15|    3153| 210.200000| 227.7819132|\n|PA    |         65|   12769| 196.446154| 293.0664937|\n|MD    |         24|    4709| 196.208333| 233.2815017|\n|IL    |        103|   19131| 185.737864| 829.1464659|\n|NE    |         89|   13176| 148.044944| 511.5815697|\n|WA    |         39|    5222| 133.897436| 255.7140462|\n|WY    |         22|    2876| 130.727273| 168.9799035|\n|FL    |         67|    7419| 110.731343| 386.0113274|\n|OH    |         88|    9056| 102.909091| 147.9123410|\n|RI    |          5|     487|  97.400000| 129.0186033|\n|IN    |         92|    8537|  92.793478| 233.0627675|\n|TX    |        221|   19839|  89.769231| 350.1155344|\n|VA    |         92|    7551|  82.076087| 340.7355403|\n|UT    |         25|    1917|  76.680000| 142.5724143|\n|MO    |        115|    8419|  73.208696| 208.1161744|\n|OR    |         33|    2322|  70.363636| 108.4495327|\n|NM    |         29|    1958|  67.517241| 112.7198235|\n|KS    |         95|    6092|  64.126316| 167.3644413|\n|CO    |         57|    3650|  64.035088| 127.7507289|\n|MN    |         86|    5467|  63.569767| 122.3857489|\n|AL    |         67|    4257|  63.537313| 130.1652014|\n|MT    |         53|    3327|  62.773585| 122.9539691|\n|NV    |         12|     746|  62.166667|  94.7953138|\n|LA    |         63|    3915|  62.142857| 101.4812643|\n|WV    |         53|    3213|  60.622642|  85.7537230|\n|GA    |        152|    8605|  56.611842| 113.1291853|\n|WI    |         69|    3773|  54.681159|  82.1718953|\n|TN    |         91|    4952|  54.417582|  94.8181963|\n|AR    |         72|    3871|  53.763889| 131.1367948|\n|MI    |         78|    3932|  50.410256| 109.7598838|\n|SC    |         46|    2296|  49.913044|  53.9122027|\n|ND    |         49|    2204|  44.979592|  92.4696999|\n|ID    |         36|    1563|  43.416667|  95.5478564|\n|ME    |         16|     654|  40.875000|  38.1153950|\n|IA    |         99|    4019|  40.595960|  76.7957693|\n|KY    |        119|    4811|  40.428571|  76.9114141|\n|NH    |         10|     393|  39.300000|  54.3324131|\n|NC    |         94|    3143|  33.436170|  58.5875980|\n|OK    |         73|    2318|  31.753425|  55.8621271|\n|MS    |         78|    2111|  27.064103|  46.6866703|\n|VT    |         14|     259|  18.500000|  24.5443084|\n|SD    |         52|     949|  18.250000|  34.6041338|\n|AK    |          6|     103|  17.166667|  34.7644454|\n|AE    |          1|       2|   2.000000|          NA|\n|HI    |          3|       4|   1.333333|   0.5773503|\n|AP    |          1|       1|   1.000000|          NA|\n\n</div>\n:::\n:::\n\n\nAbove is a dataframe that has five columns. The first column is the state. The second column is how many counties are in that state. The third column is how many employees are in that state. The fourth column is the mean employees per county in that state. The final column is the standard deviation of employees per county in that state. Sometimes, the standard deviation cannot be calculated, as there is only one sample (county) in that state.\n\nAs seen in the dataframe, Delaware (DE) has the highest mean employees of all the states.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrail %>%\n    filter(`state`==\"DE\") %>%\n    arrange(desc(`total_employees`))\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|state |county     | total_employees|\n|:-----|:----------|---------------:|\n|DE    |NEW CASTLE |            1275|\n|DE    |KENT       |             158|\n|DE    |SUSSEX     |              62|\n\n</div>\n:::\n:::\n\n\nTaking a look specifically at Delaware, it seems that their employees are mostly at New Castle, while Kent and Sussex have very few employees in comparison.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrail %>%\n    filter(`state`==\"NJ\") %>%\n    arrange(desc(`total_employees`))\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|state |county     | total_employees|\n|:-----|:----------|---------------:|\n|NJ    |ESSEX      |            1097|\n|NJ    |MIDDLESEX  |             955|\n|NJ    |HUDSON     |             871|\n|NJ    |MONMOUTH   |             862|\n|NJ    |UNION      |             738|\n|NJ    |OCEAN      |             589|\n|NJ    |BERGEN     |             513|\n|NJ    |BURLINGTON |             464|\n|NJ    |CAMDEN     |             427|\n|NJ    |MERCER     |             361|\n|NJ    |MORRIS     |             296|\n|NJ    |GLOUCESTER |             270|\n|NJ    |PASSAIC    |             231|\n|NJ    |SUSSEX     |             178|\n|NJ    |SOMERSET   |             148|\n|NJ    |WARREN     |             115|\n|NJ    |HUNTERDON  |              68|\n|NJ    |ATLANTIC   |              58|\n|NJ    |CUMBERLAND |              39|\n|NJ    |SALEM      |              30|\n|NJ    |CAPE MAY   |              19|\n\n</div>\n:::\n:::\n\n\nIn comparison, looking at New Jersey (NJ, second highest mean), tells a different story. New Jersey has 21 counties, and the employees are much more dispersed that in Delaware. This can also be noted by comparing their standard deviations, where New Jersey is half as dispersed as Delaware.\n\n### Explain and Interpret\n\nI first chose to group by state, as it gives a bigger picture as to which states have a higher concentration of employees. After which, I focused on the top two states by mean employees, and compared them.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}